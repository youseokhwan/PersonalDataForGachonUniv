<!DOCTYPE html>
<html lang="ko">
<head>
    <title>bean o`clock</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!--#5-2 패럴렉스-스크롤 플러그인 적용 CSS 적용 -->
    <link href="css/parallax-plugin.css" rel="stylesheet">
    
</head>

<body>
   <!-- 문서 전체 영역 -->
    <div id="wrap">
        <nav id="navi">
        	<h1><a href="http://beanoclock.tumblr.com/"><img src="img/logo.jpg"></a></h1>
        	<ul class="main-nav">
        		<li><a href="ms1" class="scroll">Link 1</a></li>
        		<li><a href="ms2" class="scroll">Link 2</a></li>
        		<li><a href="ms3" class="scroll">Link 3</a></li>
        	</ul>
        </nav>
       
        <!-- 첫번째 섹션 -->
        <!-- #5-1 패럴렉스-스크롤 플러그인은 배경이 적용되는 요소에 bg-holder 클래스를 사용하고, 
             원래 배경이미지 크기 지정(배경이미지 확대/축소시 가로/세로 비율을 그대로 유지하기 위해) -->
        <div id="ms1" class="container bg-holder" data-width="1200" data-height="600">
            <section class="content">
				<h3>It's bean o'clock</h3>
				<p>더치커피와 원두커피 전문 쇼핑몰 빈어클락입니다.</p>				
				<div class='icon'><img src='img/icon_view.png'></div>
            </section>
        </div>
        <!-- 두번째 섹션 -->
        <!-- 패럴렉스-스크롤이 되도록, 배경이 적용되는 요소에 bg-holder 클래스를 사용하고, 원래 배경이미지 크기 지정 -->
        <div id="ms2" class="container bg-holder" data-width="1200" data-height="600">
            <!-- 패럴렉스-스크롤이 되도록, 배경이 적용되는 요소에 bg-holder 클래스를 사용하고, 원래 배경이미지 크기 지정 -->
            <section class="content">
				<h3>Cold brewed coffee</h3>
				<p>	믿을 수 있는 고품질의 더치커피를 찾으신다면<br>
				    지금 바로 주문하세요!</p>						
				<div class='icon'><img src='img/icon_order.png'></div>
            </section>
        </div>
        <!-- 세번째 섹션 -->
        <!-- 패럴렉스-스크롤이 되도록, 배경이 적용되는 요소에 bg-holder 클래스를 사용하고, 원래 배경이미지 크기 지정 -->
        <div id="ms3" class="container bg-holder" data-width="1200" data-height="600">
            <section class="content">
				<h3>Roasted bean</h3>
				<p> 주문 후 로스팅한 신선한 원두를<br>
				    만나보고 싶다면 지금 바로 주문하세요!</p>
				<div class='icon'><img src='img/icon_order.png'></div>
            </section>
        </div>
    </div>
    
    <!-- jQuery 스크립트 선언 -->
   	<script src="js/jquery-3.3.1.min.js"></script>
   	<!-- #5-3, 패럴렉스-스크롤 플러그인 적용 -->
   	<script src="js/jquery.parallax-scroll.min.js"></script>
	<script>
		$(function() {
			
			
			/* #6
			- 브라우저 창의 크기를 조절했을 때 배경(콘텐츠) 전체가 브라우저 창의 너비와 높이에 딱 맞게 표시되도록 jQuery문 작성
			*/
			$(window).resize(function() {
				/* 현재 창의 너비와 높이를 알아내서 .container의 너비와 높이값으로 지정 */
				$('.container').width($(window).width()).height($(window).height());
				
				/* 알아낸 현재창의 너비와 높이값을 사용해 .content 내용의 위치를 중앙으로 정렬 */
				$('content').each(function() {
					$(this).css('margin-left', ($(this).width() / 2 * -1) +
								'px').css('margin-top', ($(this).height() / 2 * -1) + 'px');
				});
			});
			
			/* 1초마다 창의 크기를 체크하여 '.container'의 width, height 값을 바꿔줌 */
			setTimeout(function() {
				$(window).resize()
			}, 1000);
			
			
            /* #5-4 패럴렉스-스크롤링이 시작하도록 jQuery 선언
               - 배경이미지의 스크롤 속도와 배경위에 놓인 다른 요소들이 움직이는 속도를 다르게 지정하여
                 전체적으로 동적인 느낌을 주도록 지정
            */
            $('.bg-holder').parallaxScroll({
                friction: 0.3/* 배경이미지의 스크롤 속도가 콘텐츠 스크롤의 0.3 정도로 지정(0~1사이 소수점) */
            });
            
            /* .icon 영역에 있는 img 요소에 대해 hover 이벤트가 발생하면 첫번째 함수를, 아니면 두번째 함수 실행 
                - 선택된 jQuery 객체(img)의 src 속성을 변경(src 속성의 경로중에서 '.png'문자열을 '_over.png'로 변경)
                - 아니면 jQuery 객체(img)의 src 속성을 변경(src 속성의 경로중에서 '_over.png'문자열을 '.png'로 변경)
            */
			$('.icon img').hover(function() {
				$(this).attr('src', $(this).attr('src').replace('.png', '_over.png'));				
			}, function() {
				$(this).attr('src', $(this).attr('src').replace('_over.png', '.png'));
			});
		});
	</script>
	<script>
		$('.scroll').click(function(e) {
			e.preventDefault();
			$('html, body').animate({
				scrollTop: $(this.hash).offset().top
			}, 500);
		});
	</script>
</body>
</html>