// ConsoleApplication4.cpp: 콘솔 응용 프로그램의 진입점을 정의합니다.
//

#include "stdafx.h"
#include <windows.h>	//Sleep(),gotoxy()함수에서 사용하는 자료형와 함수 
#include <process.h>
#include <stdlib.h>		//exit()
#include <conio.h>		//getch()
#include <time.h>	
#include <MMSystem.h>


// 방향키
#define LEFT 75
#define RIGHT 77
#define UP 72
#define DOWN 80
#define ENTER 32

void gotoxy(int x, int y);//(x,y)좌표로 커서를 이동
int map[5][5] = { {1,1,1,1,1}, {1,0,0,0,1}, {1,0,2,0,1},{1,0,0,0,1},{1,1,1,1,1}
                 };

int main()
{
	int ch = 0;
	int x = 2;
	int y = 2;

	/*gotoxy(x, y);
	printf("<ㅁ>");*/
	for (int i = 0; i < 5; i = i + 1)
	{
		for (int j = 0; j < 5; j = j + 1)
		{
			if (map[i][j] == 0)
			{
				printf("  ");
			}
			else if (map[i][j] == 1)
			{
				printf("ㅁ");
			}
			else
			{
				printf("AA");
			}
		}
		printf("\n");
	}

	while (1)
	{
		
		if (_kbhit())
		{
			gotoxy(x*2, y);
			printf("  ");
			ch = _getch();

			switch (ch)
			{
			case LEFT:
				x = x - 1;
				if (map[x][y] == 1)
				{
					x = x + 1;
				}
				break;
			case RIGHT:
				x = x + 1;
				if (map[x][y] == 1)
				{
					x = x - 1;
				}
				break;
			case UP:
				y = y - 1;
				if (map[x][y] == 1)
				{
					y = y + 1;
				}
				break;
			case DOWN:
				y = y + 1;
				if (map[x][y] == 1)
				{
					y = y - 1;
				}
				break;
			case ENTER:
				break;
			}
			gotoxy(x*2, y);
			printf("AA");
		}
		
	}
    return 0;
}

void gotoxy(int x, int y)//(x,y)좌표로 커서를 이동
{
	COORD pos = { x,y };  //콘솔 화면의 원점은 (0,0)  
	SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), pos);
}